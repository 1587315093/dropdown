language: node_js

sudo: false

notifications:
  email:
  - yiminghe@gmail.com
node_js:
- 0.12
before_install:
- |
  if ! git diff --name-only $TRAVIS_COMMIT_RANGE | grep -qvE '(\.md$)|(^(docs|examples))/'
  then
    echo "Only docs were updated, stopping build process."
    exit
  fi
  npm install mocha-phantomjs -g
  phantomjs --version
script:
- |
  if [ "$TEST_TYPE" = test ]; then
    npm test
  else
    npm run $TEST_TYPE
  fi
env:
  matrix:
  - TEST_TYPE=lint
  - TEST_TYPE=browser-test
  - TEST_TYPE=browser-test-cover
  - TEST_TYPE=saucelabs
  global:
  - secure: kYT8UmxkXDtvnvbeXLzzAFEyt113qg8uM24s+zQbCfBae+C0S3jvDCFm/rCjCnslWodxfkEB1y8O+1OWczfRyOFBOPaYVxdmjdDB0CDpwsa469FbfEG5wnTFNuORcBIrBu9mIUZQdM+0FtW0azC2d6FCmQ1r4ncqMFX8el6LBlp3oLvmK7YHyho1UCJuFQGXdNH/99MnlQwZb7ojYQ2yLrIIn9lPT/t4qrcQZJ8jJxdJ8Tlh5JqdqSRwW6n5nO2OLxDYdtYvseAbR2UNaEs4/XfQ1thk2q/Zeen/YNfo0o6TD/azD0P2881T1Wm/Zt1J+yGH29tHdRO2I+kwDXvOnhnmcUyxR2DqjxG+z6ST6mMFQbFPTjbLR5ANrsrEKhJnEr9+W6eo5Fi1yLlA0/oeQQe6bTbBcVYQ4CSuGX3MjIVMM9kdio2Ui1u/5Z9CTE/F9h6WyWX5FES0x0k6o4yCVV0dYs83oqymR4vUIybanZVckVuWIt7xN9VpavfKKc+dEUsppnpCYIotPbp+gXoPg59+CEUHTEOqaFZjgo/bYGmxkYQyBNskJ3urTm08od/eIMG8J9o15IIslqeEsfjudliIPkotTfFf4lxZMeSj4mVGLC06CJzUKk0zjtdGLWdmMKOMs0g5UuJwKIaygdBv8yQkpdf3vcsCjfPR6jzVWjI=
  - secure: i355Ca7IhhHJFEm3WIZVe7lK2Beii9SV5FQvhIgXtXMFxJfgkh6koNxvdRQxS4a37KtT6nVcxV5LpAKlY0jXHML1hDFXT7Zm10fDnIzNJXTJvLfX46UDChHfRdiSg1sihS/D98D6X6UI8rA4Wx2XW/KVkNqOFbxqEd/QmyF/ZY0/e/LRlu20geJHfhrdZ+ywNQGbTRmdal2U87s0iL1Gfsjmn5MUCnu2yXi3uG2/IIGQWgHthV4zDLRBI+KFN8v1NEDGuwlJ71O1aKedR68KyfNmKMnxlxuNPzkkI6gNw570GI6PdblmEdQYPGERBkV5a2RA5w2tZ7SJvK2d2b9JWt7GrDFw1EtfVfke90cflv5FUe7zk6XQr0lSq933QGSTC7oQSMB7RtuDxeqdgFP/RoyUljX5LDd8iruY4bLDD5O/qWkU/4TtFMwjpw7QfdXK8W9nfxsswel2kKUxE69ZswDHmVXzpRtWuTK/4EnjisawbqebEZf7rFsuMCc9Yx72dR6/j12h5aA5vgxcaV2+6Em8rp/UctMuTzuX82D7czNdZjyP94Q0Qta6buJcOYwPmSlHd7AkWVi0zXT6nLXpEHCe6pYcN3B1/z6Gy5/pvnwessRosK+oDA7uBomEke2cK5mD9aXfvvnVY3fxp7tRAnbQOIr8m2tsYwnZzxwu2MA=
